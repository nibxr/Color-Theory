{"version":3,"sources":["green.js"],"names":["gsap","registerPlugin","ScrollTrigger","ScrollToPlugin","select","e","document","querySelector","querySelectorAll","stage","slides","selectAll","titles","introTitle","SplitText","type","linesClass","splitTitles","charsClass","position","links","create","initHeader","timeline","delay","smoother","ScrollSmoother","y","effects","duration","smoothTouch","from","scale","transformOrigin","stagger","to","opacity","navBtn","scaleX","ease","initIntro","x","scrollTrigger","trigger","scrub","start","end","forEach","window","index","scrollTo","link","addEventListener","preventDefault","linkST","top","scaleY","slideLinks","slideLink","slideL","initSlides","slide","i","initParallax","imageWrappers","fromTo","scrollTop","initKeys","snapTo","keyCode","slideID","event","initLinks","length","init","set","autoAlpha","onload"],"mappings":"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","file":"green.min.js","sourcesContent":["gsap.registerPlugin(ScrollTrigger);\ngsap.registerPlugin(ScrollToPlugin);\ngsap.registerPlugin(SplitText);\ngsap.registerPlugin(ScrollSmoother);\n\nconsole.clear();\n\nselect = e => document.querySelector(e);\nselectAll = e => document.querySelectorAll(e);\n\nconst stage = select('.stage');\nconst slides = selectAll(\".slide\");\nconst links = selectAll(\".slide__scroll-link\");\nconst titles = selectAll('.col__content-title');\nconst introTitle = new SplitText('.intro__title', {type: \"lines\", linesClass: \"intro-line\"});\nconst splitTitles = new SplitText(titles, {type: \"lines, chars\", linesClass: \"line\", charsClass: \"char\", position: \"relative\" });\nlet slideID = 0;\n\nconst smoother = ScrollSmoother.create({\n    smooth: 2,\n    effects: true,\n    // normalizeScroll: true,\n    smoothTouch: 0.1,\n});\n\nfunction initHeader() {\n    \n    // animate the logo and fake burger button into place\n    \n    let tl = gsap.timeline({delay: 0.5});\n    \n    tl.from('.logo', {\n        y: -40,\n        opacity: 0,\n        duration: 2,\n        ease: 'power4'\n    })\n    .from('.nav-btn__svg rect', {\n        scale: 0,\n        transformOrigin: \"center right\",\n        duration: 0.6,\n        ease: 'power4',\n        stagger: 0.1\n    }, 0.6)\n    .to('.nav-rect', {\n        scale: 0.8,\n        transformOrigin: \"center left\",\n        duration: 0.4,\n        ease: 'power2',\n        stagger: 0.1\n    }, \"-=0.6\")\n    \n    // create mouse animations for the faux burger button\n    \n    let navBtn = select('.nav-btn');\n    \n    navBtn.addEventListener(\"mouseover\", (e) => {\n        gsap.to('.nav-rect', {\n            scaleX: 1,\n            transformOrigin: \"top left\",\n            duration: 0.4, \n            ease: \"power4\"\n        });\n    });\n    \n    navBtn.addEventListener(\"mouseout\", (e) => {\n        gsap.to('.nav-rect', {\n            scaleX: 0.8,\n            transformOrigin: \"top left\",\n            duration: 0.6, \n            ease: \"power4\"\n        });\n    });\n}\n\nfunction initIntro() {\n    \n    // animate the intro elements into place\n    \n    let tl = gsap.timeline({delay: .5});\n    \n    tl.from('.intro-line', {\n        // x: 100,\n        y: 400,\n        ease: 'power4',\n        duration: 3\n    })\n    .from('.intro__txt', {\n        x: -100,\n        opacity: 0,\n        ease: 'power4',\n        duration: 3\n    }, 0.7)\n    .from('.intro__img--1', {\n        // x: -50,\n        y: 150,\n        opacity: 0,\n        ease: 'power2',\n        duration: 5\n    }, 1)\n    .from('.intro__img--2', {\n        // x: 50,\n        y: -150,\n        opacity: 0,\n        ease: 'power2',\n        duration: 5\n    }, 1);\n    \n    // set up scrollTrigger animation for the when the intro scrolls out\n    \n    let stl = gsap.timeline({\n        scrollTrigger: {\n            trigger: '.intro',\n            scrub: 1,\n            start: \"top bottom\", // position of trigger meets the scroller position\n            end: \"bottom top\"\n        }\n    });\n    \n    stl.to('.intro__title', {\n        x: 400,\n        ease: 'power4.in',\n        duration: 3,\n        \n    })\n    .to('.intro__txt', {\n        y: 100,\n        ease: 'power4.in',\n        duration: 3,\n    }, 0);\n}\n\nfunction initLinks() {\n    \n    // ScrollToPlugin links\n    \n    links.forEach((link, index, e) => {     \n        \n        let linkST = link.querySelector('.slide__scroll-line');\n        \n        link.addEventListener(\"click\", (e) => {\n            e.preventDefault();\n            gsap.to(window, {\n                duration: 2, \n                scrollTo:{\n                    y: \"#slide-\" + (index + 2)\n                },\n                ease: \"power2.inOut\"\n            });\n            slideID++;\n        });\n        \n        link.addEventListener(\"mouseover\", (e) => {\n            gsap.to(linkST, {\n                y:40,\n                transformOrigin: \"bottom center\",\n                duration: 0.6, \n                ease: \"power4\"\n            });\n        });\n        \n        link.addEventListener(\"mouseout\", (e) => {\n            gsap.to(linkST, {\n                y: 0,\n                transformOrigin: \"bottom center\",\n                duration: 0.6, \n                ease: \"power4\"\n            });\n        });\n        \n    });\n    \n    // ScrollToPlugin link back to the top\n    \n    let top = select('.footer__link-top');\n    \n    top.addEventListener(\"click\", (e) => {\n        e.preventDefault();\n        scrollTop();\n    });\n    \n    top.addEventListener(\"mouseover\", (e) => {\n        gsap.to('.footer__link-top-line', {\n            scaleY: 3,\n            transformOrigin: \"bottom center\",\n            duration: 0.6, \n            ease: \"power4\"\n        });\n    });\n    \n    top.addEventListener(\"mouseout\", (e) => {\n        gsap.to('.footer__link-top-line', {\n            scaleY: 1,\n            transformOrigin: \"bottom center\",\n            duration: 0.6, \n            ease: \"power4\"\n        });\n    });\n    \n    // Dummy slide links\n    \n    let slideLinks = selectAll('.slide-link');\n    \n    slideLinks.forEach((slideLink, index, e) => {\n        \n        let slideL = slideLink.querySelector('.slide-link__line');\n        \n        slideLink.addEventListener(\"mouseover\", (e) => {\n            gsap.to(slideL, {\n                x: 20,\n                scaleX: 0.3,\n                transformOrigin: \"right center\",\n                duration: 0.8, \n                ease: \"power4\"\n            });\n        });\n        slideLink.addEventListener(\"mouseout\", (e) => {\n            gsap.to(slideL, {\n                x: 0,\n                scaleX: 1,\n                transformOrigin: \"right center\",\n                duration: 0.8, \n                ease: \"power4\"\n            });\n        });\n    })\n}\n\nfunction initSlides() {\n    \n    // Animation of each slide scrolling into view\n    \n    slides.forEach((slide, i) => {   \n        \n        let tl = gsap.timeline({\n            scrollTrigger: {\n                trigger: slide,\n                start: \"40% 50%\", // position of trigger meets the scroller position\n            }\n        });\n \n        tl.from(slide.querySelectorAll('.col__content-title'), {\n            ease: \"power4\",\n            y: \"+=5vh\",\n            duration: 2.5,\n        })\n        .from(slide.querySelectorAll('.line__inner'), {\n            y: 200,\n            duration: 2,\n            ease: \"power4\",\n            stagger: 0.1\n        }, 0)\n        .from(slide.querySelectorAll('.col__content-txt'), {\n            x: 100,\n            y: 50,\n            opacity: 0,\n            duration: 2,\n            ease: \"power4\"\n        }, 0.4)\n        .from(slide.querySelectorAll('.slide-link'), {\n            x: -100,\n            y: 100,\n            opacity: 0,\n            duration: 2,\n            ease: \"power4\"\n        }, 0.3)\n        .from(slide.querySelectorAll('.slide__scroll-link'), {\n            y: 200,\n            duration: 3,\n            ease: \"power4\"\n        }, 0.4)\n        .to(slide.querySelectorAll('.slide__scroll-line'), {\n            scaleY: 0.6,\n            transformOrigin: \"bottom left\",\n            duration: 2.5, \n            ease: \"elastic(1,0.5)\"\n        }, 1.4)\n\t});\n    \n    // External footer link scroll animation\n    \n    gsap.from('.footer__link', {\n        scrollTrigger: {\n            trigger: '.footer',\n            scrub: 2,\n            start: \"50% 100%\", // position of trigger meets the scroller position\n            end: \"0% 0%\",\n        },\n        y: \"20vh\",\n        ease: 'sine'\n    })\n}\n\nfunction initParallax() {\n    \n    slides.forEach((slide, i) => {\n        let imageWrappers = slide.querySelectorAll('.col__image-wrap');\n        \n        gsap.fromTo(imageWrappers, {\n            y: \"-30vh\"\n        },{\n            y: \"30vh\",\n            scrollTrigger: {\n                trigger: slide,\n                scrub: true,\n                start: \"top bottom\", // position of trigger meets the scroller position\n                snap: {\n                    snapTo: 0.5, // 0.5 'cause the scroll animation range is 200vh for parallax effect\n                    duration: 1,\n                    ease: 'power4.inOut'\n                }\n            },\n            ease: 'none'\n        })\n    });\n}\n\nfunction scrollTop() {\n    gsap.to(window, {\n        duration: 2, \n        scrollTo: {\n            y: \"#slide-0\"\n        },\n        ease: \"power2.inOut\"\n    });\n    gsap.to('.footer__link-top-line', {\n        scaleY: 1,\n        transformOrigin: \"bottom center\",\n        duration: 0.6, \n        ease: \"power4\"\n    });\n}\n\nfunction initKeys() {\n    document.addEventListener('keydown', (e) => {\n        e.preventDefault();\n        if(event.keyCode == 40) { //down arrow to next slide\n            if(slideID <= slides.length) {\n                slideID++;\n                gsap.to(window, {\n                    duration: 2, \n                    scrollTo:{\n                        y: \"#slide-\" + slideID \n                    },\n                    ease: \"power2.inOut\"\n                });\n            }\n        }\n        else if(event.keyCode == 38) { // up arrow to top\n            slideID = 0;\n            scrollTop();\n        }\n    });\n}\n\nfunction init() {\n    gsap.set(stage, { autoAlpha: 1 });\n    initHeader();\n    initIntro();\n\tinitLinks();\n\tinitSlides();\n\tinitParallax();\n    initKeys();\n}\n\nwindow.onload = () => {\n\tinit();\n};"]}